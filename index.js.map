{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '50254801-91971d45cfc13d9e951cbfc82';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    throw new Error('Error fetching data from Pixabay API');\n  }\n}\n","const loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nexport function showLoader() {\n  loader.classList.remove('visually-hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('visually-hidden');\n}\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function createGallery(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n    <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"\"/></a>\n    <div class=\"cont\">\n      <p><b>Likes</b><br>${likes}</p>\n      <p><b>Views</b><br>${views}</p>\n      <p><b>Comments</b><br>${comments}</p>\n      <p><b>Downloads</b><br>${downloads}</p>\n    </div>\n</li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  showLoader,\n  hideLoader,\n  clearGallery,\n  createGallery,\n} from './js/render-functions';\nlet lightbox = null;\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  clearGallery();\n  showLoader();\n\n  const input = e.currentTarget.elements['search-text'].value.trim();\n\n  if (!input) {\n    hideLoader();\n    return iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n  }\n\n  getImagesByQuery(input)\n    .then(res => {\n      if (res.hits.length === 0) {\n        return iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n\n      const markup = createGallery(res.hits);\n      gallery.insertAdjacentHTML('beforeend', markup);\n\n      if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","loader","gallery","showLoader","hideLoader","clearGallery","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","lightbox","e","input","iziToast","res","markup","SimpleLightbox","err"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,GACrC,IACjB,MAAe,CACd,MAAM,IAAI,MAAM,sCAAsC,CACvD,CACH,CCpBA,MAAME,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,GAAa,CAC3BF,EAAO,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASG,GAAa,CAC3BH,EAAO,UAAU,IAAI,iBAAiB,CACxC,CACO,SAASI,GAAe,CAC7BH,EAAQ,UAAY,EACtB,CAEO,SAASI,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,eACOL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAE1CC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA,MAGnC,EACA,KAAK,EAAE,CACZ,CC/BA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCb,EAAU,SAAS,cAAc,UAAU,EASjD,IAAIc,EAAW,KAEfD,EAAK,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAc,EAChBZ,IACAF,IAEA,MAAMe,EAAQD,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,OAE5D,GAAI,CAACC,EACH,OAAAd,IACOe,EAAS,MAAM,CACpB,MAAO,QACP,QACE,2EACF,SAAU,UAChB,CAAK,EAGHtB,EAAiBqB,CAAK,EACnB,KAAKE,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EACtB,OAAOD,EAAS,MAAM,CACpB,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EAGH,MAAME,EAASf,EAAcc,EAAI,IAAI,EACrClB,EAAQ,mBAAmB,YAAamB,CAAM,EAE1CL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAAO,CACZJ,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbf,IACAW,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}